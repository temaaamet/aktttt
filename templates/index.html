<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Форма генерации акта</title>
  <style>
    :root{ --gap:12px; --radius:12px; }
    *{box-sizing:border-box}
    body{
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Inter, Arial, sans-serif;
      margin:0;
      background:#f5f5f7;
      color:#111;
    }
    .wrap{ max-width:720px; margin:0 auto; padding:clamp(12px,4vw,24px); }
    .card{
      background:#fff; border-radius:var(--radius);
      box-shadow:0 8px 24px rgba(0,0,0,.06);
      padding:clamp(16px,4vw,24px);
    }
    h1{ font-size:clamp(18px,2.6vw,22px); margin:0 0 8px; line-height:1.3; }
    .hint{ font-size:12px; color:#666; margin-bottom:8px; }
    form{ display:grid; gap:var(--gap); }
    .field{ display:flex; flex-direction:column; gap:6px; }
    label{ font-size:14px; font-weight:600; }
    input, select, button{
      font-size:16px; padding:12px; border:1px solid #d0d0d4;
      border-radius:10px; background:#fff; outline:none; -webkit-tap-highlight-color:transparent;
    }
    input:focus, select:focus{ border-color:#4c7dff; box-shadow:0 0 0 3px rgba(76,125,255,.15); }
    .grid{ display:grid; gap:var(--gap); grid-template-columns:1fr; }
    @media (min-width:600px){
      .grid-2{ grid-template-columns:1fr 1fr; }
      .grid-3{ grid-template-columns:1fr 1fr 1fr; }
    }
    .file{ border:1px dashed #c8c8cc; padding:12px; border-radius:10px; background:#fafafa; }
    button{ background:#007bff; color:#fff; font-weight:700; border:none; border-radius:12px; padding:14px 16px; cursor:pointer; }
    button:active{ transform:translateY(1px); }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Форма генерации акта</h1>
      <div class="hint">Мобильная версия — крупные поля, цифровая клавиатура, адаптивная сетка.</div>

      <form id="actForm" enctype="multipart/form-data" method="post" action="/generate" novalidate>
        <div class="field">
          <label>Номер акта</label>
          <input type="text" name="act_number" inputmode="numeric" pattern="\d+" required placeholder="Например, 12">
        </div>

        <div class="grid grid-2">
          <div class="field">
            <label>День написания акта</label>
            <select name="day" required>
              {% for d in range(1, 32) %}<option value="{{ d }}">{{ d }}</option>{% endfor %}
            </select>
          </div>
          <div class="field">
            <label>Месяц написания акта</label>
            <select name="month" required>
              <option>января</option><option>февраля</option><option>марта</option>
              <option>апреля</option><option>мая</option><option>июня</option>
              <option>июля</option><option>августа</option><option>сентября</option>
              <option>октября</option><option>ноября</option><option>декабря</option>
            </select>
          </div>
        </div>

        <div class="grid grid-2">
          <div class="field">
            <label>Число заключения договора</label>
            <select name="contract_day" required>
              {% for d in range(1, 32) %}<option value="{{ d }}">{{ d }}</option>{% endfor %}
            </select>
          </div>
          <div class="field">
            <label>Месяц заключения договора</label>
            <select name="contract_month" required>
              <option>января</option><option>февраля</option><option>марта</option>
              <option>апреля</option><option>мая</option><option>июня</option>
              <option>июля</option><option>августа</option><option>сентября</option>
              <option>октября</option><option>ноября</option><option>декабря</option>
            </select>
          </div>
        </div>

        <div class="field">
          <label>Номер договора</label>
          <input type="text" name="contract_number" required placeholder="Например, 15/2025">
        </div>

        <div class="field">
          <label>ФИО исполнителя</label>
          <input type="text" name="contractor_name" required pattern="[А-Яа-яЁё\s\-]+" placeholder="Иванов Иван Иванович">
        </div>

        <div class="field">
          <label>ИНН исполнителя</label>
          <input type="text" name="contractor_inn" inputmode="numeric" pattern="\d{12}" maxlength="12" required placeholder="12 цифр">
        </div>

        <div class="grid grid-3">
          <div class="field">
            <label>Количество машин</label>
            <input type="number" name="qty" inputmode="numeric" min="1" required placeholder="Напр., 8">
          </div>
          <div class="field">
            <label>Выручка — рублей</label>
            <input type="number" name="rub" inputmode="numeric" min="0" required placeholder="Напр., 120000">
          </div>
          <div class="field">
            <label>Выручка — копеек</label>
            <input type="number" name="kop" inputmode="numeric" min="0" max="99" required placeholder="0–99">
          </div>
        </div>

        <div class="field file">
          <label>Подпись (.png)</label>
          <input type="file" name="signature" accept="image/png">
        </div>

        <button type="submit">Сформировать акт</button>
      </form>
    </div>
  </div>

  <script>
    // Автокапитализация ФИО
    document.addEventListener('blur', (e)=>{
      if(e.target && e.target.name==='contractor_name'){
        const t = e.target;
        t.value = t.value.trim().split(/\s+/).map(w=>w? (w[0].toUpperCase()+w.slice(1).toLowerCase()):'').join(' ');
      }
    }, true);
  </script>
</body>
</html>
